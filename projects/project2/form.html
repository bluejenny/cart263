<!-- standard form ex from w3 schools
added javascript event handling on the form-->
<!DOCTYPE html>
<html>
<head>

  <title> HTML FORM EX </title>
  <meta charset="UTF-8">
  <!-- CSS stylesheet(s) -->
  <link
    rel="stylesheet"
    type="text/css"
    href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
  />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"
  ></script>
  <script
    src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
    integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
    crossorigin="anonymous"
  ></script>
</head>
<body id="calendar">
  <div>
  <button id="open-input-form">Open Dialog</button>
</div>
<!-- GIVE THE FORM AN ID -->
<div id = "gfg2" title="">
<div id="input-form">
<form id ="testForm">
  <input id="date-picker" type="datetime-local" name="date-picker" value="" required />
  <input type="text" id="datepicker" name="datepicker2">
  <input id="color-picker" type="color" value="#cccccc" name="color" />
  <select id="moods" name="feeling" value=""> </select>
  <div id="alignment-picker" class="radiobtns">
    <input type="radio" id="left" name="left" value="left" />
    <input type="radio" id="center" name="center" value="center" />
    <input type="radio" id="right" name="right" value="right" />
  </div>
  <input id="width-picker" type="range" name="width" value="60" min="20" max="120" />
  <input type="submit" id="add" value="Submit">
</form>
</div>
</div>

<!-- <p>If you click the "Submit" button, the form-data will be processed by the callback method "processForm" - see the output in the inspector (console).</p> -->
<script type = "text/javascript">
        $(function() {
           $( "#input-form" ).dialog({
         autoOpen: false,
              close: function( event, ui ) {
                 console.log('closed')
              },
           });
           $( "#open-input-form" ).click(function() {
              $( "#input-form" ).dialog( "open" );
           });
        });
     </script>

<script type="text/javascript">

  $(document).ready(function(){
    console.log("document loaded");

    function processForm(event){
      //ensure that we intervene - otherwise we will not capture the data
      event.preventDefault();
      //this refers to the form
      console.log(this);

      //get the values from the form  ... use the javascript FormData object -  see:
      //https://developer.mozilla.org/en-US/docs/Web/API/FormData

    let formData = new FormData(document.getElementById("testForm"));
    // then we get back key value pairs: input id and its associated value
      for (let value of formData.entries()) {
          console.log(value[1]);
          }

    }

    // event handler for when the form has been submitted - use the FORM ID
    // on submit call processForm
    $("#testForm").submit(processForm);

  })
</script>

<script src="js/script.js"></script>

</body>
</html>
